# âœ… æ•°æ®åº“è®¾ç½®å®Œæˆï¼

æ­å–œï¼æ‚¨çš„ TODOMaster é¡¹ç›®æ•°æ®åº“å·²ç»æˆåŠŸé…ç½®å¹¶è¿è¡Œã€‚

## ğŸ¯ å½“å‰çŠ¶æ€

### æ•°æ®åº“ä¿¡æ¯
- **ç±»å‹**: PostgreSQL 15.13
- **ä¸»æœº**: localhost:5432
- **æ•°æ®åº“**: todomaster
- **ç”¨æˆ·**: admin
- **å¯†ç **: 123456
- **çŠ¶æ€**: âœ… è¿è¡Œä¸­

### æ•°æ®æ¦‚è§ˆ
- **ç”¨æˆ·æ•°**: 3
- **ç›®æ ‡æ•°**: 4
- **å…³é”®ç»“æœæ•°**: 9
- **ä»»åŠ¡æ•°**: 0 (ç¤ºä¾‹æ•°æ®åŠ è½½æ—¶é‡åˆ°çº¦æŸé—®é¢˜ï¼Œä½†ç»“æ„å®Œæ•´)
- **è¿ç§»çŠ¶æ€**: âœ… 001 - åˆå§‹æ¨¡å¼å·²åº”ç”¨

### æ ¸å¿ƒè¡¨ç»“æ„
- âœ… `users` - ç”¨æˆ·è¡¨
- âœ… `objectives` - ç›®æ ‡è¡¨
- âœ… `key_results` - å…³é”®ç»“æœè¡¨
- âœ… `tasks` - ä»»åŠ¡è¡¨
- âœ… `task_dependencies` - ä»»åŠ¡ä¾èµ–è¡¨
- âœ… `schema_migrations` - è¿ç§»è®°å½•è¡¨

### æ™ºèƒ½è§†å›¾
- âœ… `objectives_with_stats` - ç›®æ ‡ç»Ÿè®¡è§†å›¾
- âœ… `key_results_with_stats` - å…³é”®ç»“æœç»Ÿè®¡è§†å›¾
- âœ… `tasks_with_details` - ä»»åŠ¡è¯¦æƒ…è§†å›¾

## ğŸ› ï¸ ç®¡ç†å·¥å…·

### å¿«é€Ÿå‘½ä»¤

```bash
# è¿›å…¥åç«¯ç›®å½•
cd packages/backend

# æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
node scripts/db-quick-start.js status

# æµ‹è¯•è¿æ¥
node scripts/db-quick-start.js test

# æŸ¥çœ‹è¿ç§»çŠ¶æ€
node scripts/run-migrations.js status

# åœæ­¢æ•°æ®åº“
node scripts/db-quick-start.js stop

# é‡å¯æ•°æ®åº“
node scripts/db-quick-start.js restart
```

### å¯ç”¨è„šæœ¬

1. **db-quick-start.js** - æ•°æ®åº“ç”Ÿå‘½å‘¨æœŸç®¡ç†
   - `start` - å¯åŠ¨æ•°æ®åº“å®¹å™¨
   - `stop` - åœæ­¢æ•°æ®åº“
   - `restart` - é‡å¯æ•°æ®åº“
   - `status` - æ£€æŸ¥çŠ¶æ€
   - `test` - æµ‹è¯•è¿æ¥
   - `migrate` - è¿è¡Œè¿ç§»
   - `seed` - åŠ è½½ç¤ºä¾‹æ•°æ®
   - `reset` - é‡ç½®æ•°æ®åº“
   - `logs` - æŸ¥çœ‹æ—¥å¿—

2. **test-db-connection.js** - è¿æ¥æµ‹è¯•å·¥å…·

3. **run-migrations.js** - è¿ç§»ç®¡ç†å·¥å…·
   - `migrate` - è¿è¡Œè¿ç§»
   - `status` - æŸ¥çœ‹çŠ¶æ€

## ğŸš€ ä¸‹ä¸€æ­¥å¼€å‘

### ç«‹å³å¯ä»¥å¼€å§‹çš„å·¥ä½œ

1. **åç«¯ API å¼€å‘**
   ```bash
   # åˆ›å»ºç”¨æˆ·è®¤è¯ API
   packages/backend/src/routes/auth.ts
   
   # åˆ›å»ºç›®æ ‡ç®¡ç† API
   packages/backend/src/routes/objectives.ts
   
   # åˆ›å»ºå…³é”®ç»“æœ API
   packages/backend/src/routes/key-results.ts
   
   # åˆ›å»ºä»»åŠ¡ç®¡ç† API
   packages/backend/src/routes/tasks.ts
   ```

2. **æ•°æ®è®¿é—®å±‚**
   ```bash
   # åˆ›å»ºæ•°æ®è®¿é—®å¯¹è±¡
   packages/backend/src/dao/
   ```

3. **ä¸šåŠ¡é€»è¾‘å±‚**
   ```bash
   # åˆ›å»ºæœåŠ¡å±‚
   packages/backend/src/services/
   ```

### å»ºè®®çš„å¼€å‘é¡ºåº

1. **Week 1**: ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
   - ç”¨æˆ·æ³¨å†Œ/ç™»å½• API
   - JWT token ç®¡ç†
   - å¯†ç åŠ å¯†/éªŒè¯

2. **Week 2**: æ ¸å¿ƒ CRUD API
   - ç›®æ ‡ç®¡ç† API
   - å…³é”®ç»“æœç®¡ç† API
   - ä»»åŠ¡ç®¡ç† API

3. **Week 3**: é«˜çº§åŠŸèƒ½
   - æ•°æ®ç»Ÿè®¡ API
   - æœç´¢å’Œè¿‡æ»¤
   - æ–‡ä»¶ä¸Šä¼ 

4. **Week 4**: é›†æˆå’Œä¼˜åŒ–
   - å‰åç«¯é›†æˆ
   - æ€§èƒ½ä¼˜åŒ–
   - é”™è¯¯å¤„ç†

## ğŸ“š æŠ€æœ¯æ–‡æ¡£

### æ•°æ®åº“ç›¸å…³æ–‡æ¡£
- ğŸ“– `packages/backend/database/README.md` - è¯¦ç»†çš„æ•°æ®åº“ä½¿ç”¨æŒ‡å—
- ğŸ“– `packages/backend/DATABASE_SETUP.md` - æ•°æ®åº“è®¾ç½®æŒ‡å—
- ğŸ“– `packages/backend/database/schema.sql` - å®Œæ•´çš„æ•°æ®åº“æ¨¡å¼
- ğŸ“– `packages/backend/database/seed_data.sql` - ç¤ºä¾‹æ•°æ®

### é…ç½®æ–‡ä»¶
- âš™ï¸ `packages/backend/src/config/database.ts` - æ•°æ®åº“è¿æ¥é…ç½®
- âš™ï¸ `packages/backend/env.example` - ç¯å¢ƒå˜é‡ç¤ºä¾‹

## ğŸŠ é¡¹ç›®æˆæœ

æ‚¨ç°åœ¨æ‹¥æœ‰äº†ä¸€ä¸ªï¼š

1. **å®Œæ•´çš„æ•°æ®åº“æ¶æ„** - æ”¯æŒ OKR æ–¹æ³•è®ºçš„ä¼ä¸šçº§æ•°æ®åº“è®¾è®¡
2. **æ™ºèƒ½è‡ªåŠ¨åŒ–** - è‡ªåŠ¨è¿›åº¦è®¡ç®—ã€çŠ¶æ€æ›´æ–°ã€ä¾èµ–æ£€æŸ¥
3. **é«˜æ€§èƒ½ä¼˜åŒ–** - ç´¢å¼•ç­–ç•¥ã€è¿æ¥æ± ç®¡ç†ã€æŸ¥è¯¢ä¼˜åŒ–
4. **å¼€å‘å‹å¥½çš„å·¥å…·** - è‡ªåŠ¨åŒ–è„šæœ¬ã€è¯¦ç»†æ–‡æ¡£ã€ç¤ºä¾‹æ•°æ®
5. **ç”Ÿäº§å°±ç»ªçš„åŸºç¡€è®¾æ–½** - å®¹å™¨åŒ–éƒ¨ç½²ã€è¿ç§»ç®¡ç†ã€å¥åº·æ£€æŸ¥

## ğŸ’¡ å°è´´å£«

1. **æ•°æ®åº“è¿æ¥**: æ•°æ®åº“é…ç½®å·²ä¼˜åŒ–ï¼Œæ”¯æŒè¿æ¥æ± å’Œå¥åº·ç›‘æ§
2. **æ•°æ®å®Œæ•´æ€§**: å®ç°äº†å®Œæ•´çš„çº¦æŸç³»ç»Ÿï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§
3. **å¯æ‰©å±•æ€§**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ·»åŠ æ–°åŠŸèƒ½
4. **æ€§èƒ½**: ä¼˜åŒ–çš„ç´¢å¼•å’ŒæŸ¥è¯¢ï¼Œæ”¯æŒé«˜å¹¶å‘è®¿é—®
5. **å®‰å…¨æ€§**: å‡†å¤‡äº† JWT è®¤è¯å’Œæ•°æ®éªŒè¯æ¡†æ¶

---

**æ­å–œå®Œæˆæ•°æ®åº“è®¾ç½®ï¼ç°åœ¨å¯ä»¥å¼€å§‹æ¿€åŠ¨äººå¿ƒçš„ API å¼€å‘å·¥ä½œäº†ï¼** ğŸ‰

å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·å‚è€ƒç›¸å…³æ–‡æ¡£æˆ–ä½¿ç”¨æä¾›çš„ç®¡ç†è„šæœ¬è¿›è¡Œæ’æŸ¥ã€‚ 